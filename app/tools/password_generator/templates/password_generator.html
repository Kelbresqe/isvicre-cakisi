{% extends "base.html" %}
{% import "components/hero.html" as hero_comp %}
{% import "components/card.html" as card_comp %}

{% block content %}
<div class="max-w-7xl mx-auto" x-data="{ 
    length: 16,
    useUppercase: true,
    useLowercase: true,
    useNumbers: true,
    useSymbols: true
}">
    {{ hero_comp.render(
        title=tool.title,
        subtitle=tool.detailed_description,
        icon=tool.icon,
        category=tool.category.value,
        badges=["Güvenli", "Rastgele", "İstemci Dostu"]
    ) }}

    <div class="px-4 sm:px-6 lg:px-8 py-12">
        <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
            <!-- Left Column: Form -->
            <div class="lg:col-span-1 space-y-6">
                <div class="bg-slate-800/50 rounded-2xl p-1 border border-slate-700/50 shadow-xl">
                    <div class="bg-slate-900/80 rounded-xl p-6">
                        <form hx-post="/tools/password-generator/generate" 
                              hx-target="#result-area" 
                              hx-indicator="#loading"
                              hx-trigger="load, change, submit"
                              class="space-y-6">
                            
                            <div>
                                <label class="block text-sm font-medium text-slate-300 mb-2">
                                    Şifre Uzunluğu: <span x-text="length" class="text-emerald-400 font-mono"></span>
                                </label>
                                <input type="range" name="length" x-model="length" min="4" max="64" 
                                       class="w-full h-2 bg-slate-700 rounded-lg appearance-none cursor-pointer accent-emerald-500">
                                <div class="flex justify-between text-xs text-slate-500 mt-1">
                                    <span>4</span>
                                    <span>32</span>
                                    <span>64</span>
                                </div>
                            </div>

                            <div class="space-y-3">
                                <label class="flex items-center space-x-3 cursor-pointer group">
                                    <input type="checkbox" name="use_uppercase" x-model="useUppercase" value="true" 
                                           class="w-5 h-5 rounded border-slate-600 text-emerald-600 focus:ring-emerald-500 bg-slate-800 transition-colors">
                                    <span class="text-slate-300 group-hover:text-white transition-colors">Büyük Harfler (A-Z)</span>
                                </label>
                                
                                <label class="flex items-center space-x-3 cursor-pointer group">
                                    <input type="checkbox" name="use_lowercase" x-model="useLowercase" value="true" 
                                           class="w-5 h-5 rounded border-slate-600 text-emerald-600 focus:ring-emerald-500 bg-slate-800 transition-colors">
                                    <span class="text-slate-300 group-hover:text-white transition-colors">Küçük Harfler (a-z)</span>
                                </label>
                                
                                <label class="flex items-center space-x-3 cursor-pointer group">
                                    <input type="checkbox" name="use_numbers" x-model="useNumbers" value="true" 
                                           class="w-5 h-5 rounded border-slate-600 text-emerald-600 focus:ring-emerald-500 bg-slate-800 transition-colors">
                                    <span class="text-slate-300 group-hover:text-white transition-colors">Rakamlar (0-9)</span>
                                </label>
                                
                                <label class="flex items-center space-x-3 cursor-pointer group">
                                    <input type="checkbox" name="use_symbols" x-model="useSymbols" value="true" 
                                           class="w-5 h-5 rounded border-slate-600 text-emerald-600 focus:ring-emerald-500 bg-slate-800 transition-colors">
                                    <span class="text-slate-300 group-hover:text-white transition-colors">Semboller (!@#$)</span>
                                </label>
                            </div>

                            <button type="submit" 
                                    class="w-full py-3 bg-slate-800 hover:bg-slate-700 text-white rounded-xl font-bold border border-slate-600 transition-all flex items-center justify-center gap-2">
                                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path></svg>
                                Yenile
                            </button>
                        </form>
                    </div>
                </div>
            </div>

            <!-- Right Column: Result -->
            <div class="lg:col-span-2 space-y-6">
                <div id="loading" class="htmx-indicator hidden">
                    <div class="flex items-center justify-center p-12">
                        <div class="animate-spin rounded-full h-12 w-12 border-b-2 border-emerald-500"></div>
                    </div>
                </div>
                <div id="result-area">
                    <!-- Result will appear here automatically on load -->
                </div>
                
                <!-- Tips -->
                <div class="bg-blue-500/10 border border-blue-500/20 rounded-xl p-6">
                    <h3 class="text-blue-400 font-bold mb-2 flex items-center gap-2">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                        Güvenlik İpuçları
                    </h3>
                    <ul class="list-disc list-inside text-blue-300/80 space-y-1 text-sm">
                        <li>Şifreleriniz sunucularımızda asla saklanmaz.</li>
                        <li>En az 12 karakter uzunluğunda şifreler kullanmanızı öneririz.</li>
                        <li>Her hesap için farklı bir şifre kullanın.</li>
                        <li>Bir şifre yöneticisi (Password Manager) kullanmayı düşünün.</li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mt-12">
            {{ card_comp.render(
                title="Kriptografik Güvenlik",
                description="Python'un secrets modülü kullanılarak güvenli rastgelelik sağlanır.",
                icon='<svg class="w-full h-full" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"></path></svg>'
            ) }}
            
            {{ card_comp.render(
                title="Tam Özelleştirme",
                description="Uzunluk ve karakter setlerini ihtiyacınıza göre ayarlayın.",
                icon='<svg class="w-full h-full" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4"></path></svg>'
            ) }}
            
            {{ card_comp.render(
                title="Gizlilik Odaklı",
                description="Oluşturulan şifreler kaydedilmez ve loglanmaz.",
                icon='<svg class="w-full h-full" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"></path></svg>'
            ) }}
        </div>
    </div>
</div>
{% endblock %}
